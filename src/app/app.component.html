<div class="app-container">
  <!-- Header with Navigation -->
  <header class="app-header">
    <nav class="nav-container">
      <div class="nav-brand">
        <a routerLink="/" class="brand-link">
          <mat-icon>schedule</mat-icon>
          <span class="brand-text">TimerTools</span>
        </a>
      </div>
      
      <div class="nav-menu" [class.open]="mobileMenuOpen">
        <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link">
          <mat-icon>home</mat-icon>
          <span>Home</span>
        </a>
        <a routerLink="/stopwatch" routerLinkActive="active" class="nav-link">
          <mat-icon>timer</mat-icon>
          <span>Stopwatch</span>
        </a>
        
        <a routerLink="/timer" routerLinkActive="active" class="nav-link">
          <mat-icon>hourglass_empty</mat-icon>
          <span>Timer</span>
        </a>
        <div class="nav-dropdown">
          <button class="nav-link dropdown-trigger" (click)="toggleClockDropdown()">
            <mat-icon>schedule</mat-icon>
            <span>Clock</span>
            <mat-icon class="dropdown-icon">{{ clockDropdownOpen ? 'expand_less' : 'expand_more' }}</mat-icon>
          </button>
          <div class="dropdown-menu" [class.open]="clockDropdownOpen">
            <a routerLink="/clock" class="dropdown-link">
              <mat-icon>schedule</mat-icon>
              <span>World Clock</span>
            </a>
            <a routerLink="/clock/conversion" class="dropdown-link">
              <mat-icon>sync_alt</mat-icon>
              <span>Time Conversion</span>
            </a>
            <a routerLink="/clock/days-between" class="dropdown-link">
              <mat-icon>date_range</mat-icon>
              <span>Days Between Dates</span>
            </a>
            <a routerLink="/clock/alarm" class="dropdown-link">
              <mat-icon>alarm</mat-icon>
              <span>Alarm Clock</span>
            </a>
          </div>
        </div>
        
        <a routerLink="/stats" class="nav-link">
          <mat-icon>bar_chart</mat-icon>
          <span>Statistics</span>
        </a>
        
        <a routerLink="/achievements" class="nav-link">
          <mat-icon>emoji_events</mat-icon>
          <span>Achievements</span>
        </a>
        
        <div class="nav-dropdown">
          <button class="nav-link dropdown-trigger" (click)="toggleDropdown()">
            <mat-icon>apps</mat-icon>
            <span>More Tools</span>
            <mat-icon class="dropdown-icon">{{ dropdownOpen ? 'expand_less' : 'expand_more' }}</mat-icon>
          </button>
          <div class="dropdown-menu" [class.open]="dropdownOpen">
            <a routerLink="/timer/interval" class="dropdown-link">
              <mat-icon>fitness_center</mat-icon>
              <span>Interval Timer</span>
            </a>
            <a routerLink="/timer/pomodoro" class="dropdown-link">
              <mat-icon>work</mat-icon>
              <span>Pomodoro</span>
            </a>
            <a routerLink="/timer/meditation" class="dropdown-link">
              <mat-icon>self_improvement</mat-icon>
              <span>Meditation Timer</span>
            </a>
            <a routerLink="/fun/egg-timer" class="dropdown-link">
              <mat-icon>egg</mat-icon>
              <span>Egg Timer</span>
            </a>
            <a routerLink="/fun/bomb-timer" class="dropdown-link">
              <mat-icon>whatshot</mat-icon>
              <span>Bomb Timer</span>
            </a>
            <a routerLink="/fun/classroom/basketball" class="dropdown-link">
              <mat-icon>sports_basketball</mat-icon>
              <span>Basketball Timer</span>
            </a>
            <a routerLink="/fun/classroom/hockey" class="dropdown-link">
              <mat-icon>sports_hockey</mat-icon>
              <span>Hockey Timer</span>
            </a>
            <a routerLink="/fun/classroom/presentation" class="dropdown-link">
              <mat-icon>presentation_chart</mat-icon>
              <span>Presentation Timer</span>
            </a>
          </div>
        </div>
        
        <a routerLink="/settings"
           class="nav-link"
           [class.disabled]="!settingsMenuEnabled"
           (click)="settingsMenuEnabled || $event.preventDefault()">
          <mat-icon>settings</mat-icon>
          <span>Settings</span>
        </a>
      </div>
      
      <div class="nav-actions">
        <button mat-icon-button (click)="toggleAudio()" [attr.aria-label]="audioService.settings().enabled ? 'Disable audio' : 'Enable audio'">
          <mat-icon>{{ audioService.settings().enabled ? 'volume_up' : 'volume_off' }}</mat-icon>
        </button>
        
        <button mat-icon-button class="mobile-menu-toggle" (click)="toggleMobileMenu()" [attr.aria-label]="'Toggle navigation menu'">
          <mat-icon>{{ mobileMenuOpen ? 'close' : 'menu' }}</mat-icon>
        </button>
      </div>
    </nav>
  </header>
  
  <!-- Top Ad Slot -->
  <section class="ad-section top-ad">
    <app-ad-slot
      size="leaderboard"
      position="top"
      [showPlaceholder]="true">
    </app-ad-slot>
  </section>
  
  <!-- Main Content Area with Sidebar Layout -->
  <div class="content-wrapper">
    <main class="app-main">
      <router-outlet></router-outlet>
    </main>
    
    <!-- Right Sidebar for Ads -->
    <aside class="ads-sidebar">
      <div class="sidebar-content">
        <!-- Primary Skyscraper Ad -->
        <app-ad-slot
          size="skyscraper"
          position="sidebar"
          [showPlaceholder]="true"
          [nonIntrusive]="true"
          class="sidebar-ad primary-ad">
        </app-ad-slot>
        
        <!-- Secondary Banner Ad (smaller, fits sidebar width) -->
        <app-ad-slot
          size="mobile-banner"
          position="sidebar"
          [showPlaceholder]="true"
          [nonIntrusive]="true"
          class="sidebar-ad secondary-ad">
        </app-ad-slot>
      </div>
    </aside>
  </div>
  
  <!-- Bottom Ad Slot -->
  <section class="ad-section bottom-ad">
    <app-ad-slot
      size="leaderboard"
      position="bottom"
      [showPlaceholder]="true">
    </app-ad-slot>
  </section>
  
  <!-- Footer -->
  <footer class="app-footer">
    <div class="footer-content">
      <div class="footer-links">
        <a routerLink="/about" class="footer-link">About</a>
        <a routerLink="/settings"
           class="footer-link"
           [class.disabled]="!settingsMenuEnabled"
           (click)="settingsMenuEnabled || $event.preventDefault()">Settings</a>
        <a href="#" class="footer-link">Privacy</a>
        <a href="#" class="footer-link">Terms</a>
      </div>
      <div class="footer-text">
        <p>&copy; {{ currentYear }} TimerTools. Free online timing tools for everyone.</p>
        <p class="build-info" *ngIf="buildInfo">{{ buildInfo }}</p>
      </div>
    </div>
  </footer>
  
  <!-- PWA Components -->
  <app-pwa-install></app-pwa-install>
  <app-pwa-update></app-pwa-update>
</div>
